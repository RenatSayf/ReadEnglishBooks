function getSelectionText(){var n="";return(n=window.getSelection)?window.getSelection().toString():document.selection.createRange().text}function getWordsBySentences(){var f=[],t=[],e=[],i,n,r,o,s,u;for($("h2, h3, p").each(function(){f.push($(this).text().replace(/\t/g,"").replace(/\v/g,"").trim())}),i=0;i<f.length;i++)t.push(f[i].split("."));for(n=0;n<t.length;n++)for(r=0;r<t[n].length;r++)o=t[n][r].replace("â†µ","").trim(),o!==""&&e.push(o);for(s=[],u=0;u<e.length;u++)s.push(getSelectingWords(e[u]));return s}function getSelectingWords(n){var t=n,f,e,u,r,o,i;for(t=t.toLowerCase(),t=t.replace(/\s/g,"|"),t=t.replace(/\./g,""),t=t.replace(/\!/g,""),t=t.replace(/\?/g,""),t=t.replace(/\,/g,""),t=t.replace(/\:/g,""),t=t.replace(/\;/g,""),t=t.replace(/\t/g,""),t=t.replace(/\v/g,""),f=t.split("|"),e={},u=0;u<f.length;u++)r=f[u],r!==""&&(o=r.length,i=r.charCodeAt(0),o>0&&(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122)&&(e[r]=!0));return Object.keys(e)}function addSpanTagToSentence(){$("p, h2, h3").each(function(){var r=this.innerHTML,f=r.match(/[.!?]/gmi),n=[],u,i,e,t;for(n=r.split(/[.!?]/gmi),u="",i=0;i<n.length;i++)e=n[i].search(/[a-zA-Z\d]/gmi),(n[i].length===0||n[i].search(/[a-zA-Z\d]/gmi)<0)&&n.splice(i,1);try{for(t=0;t<n.length;t++)n[t]!==""&&n[t]!==" "&&(n[t]='<span class="sentence">'+n[t]+f[t]+"<\/span>");u=n.join(" ");this.innerHTML=u}catch(o){this.innerHTML=r}})}function addSpanTagToParagraf(){$("p, h2, h3").each(function(){var n=this.innerHTML;this.innerHTML='<span class="paragraf">'+n+"<\/span>"});var n=document.getElementById("#learn-mode")}function deselectSentencesAndParagraf(){$(".sentence").removeClass("background");$(".paragraf").removeClass("background")}function chooseSelectionMode(n){n==="sentence"&&($(".sentence").addClass("sentence-background"),$(".paragraf").removeClass("paragraf-background"));n==="paragraf"&&($(".paragraf").addClass("paragraf-background"),$(".sentence").removeClass("sentence-background"));n==="page"&&($(".sentence").removeClass("sentence-background"),$(".paragraf").removeClass("paragraf-background"))}